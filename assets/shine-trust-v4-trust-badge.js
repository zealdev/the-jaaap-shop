!function(e){"use strict";let t=null;const i=setInterval((()=>{window.ST_GLOBALS&&(clearInterval(i),l().then((()=>console.info("ST Trust Badge loaded"))))}));class n{constructor(t){this.editor=t,this.badgeElement=e.createElement("div"),this.badgeItemElement=e.createElement("div"),this.headingBadgeElement=e.createElement("div"),this.listImageBadgeElement=e.createElement("div"),this.imageBadgeElement=null}render(){const{id:i,badges:n,template:a,selector:l,heading:s,editor:o}=this.editor;this.badgeElement.setAttribute("data-id",i),this.badgeElement.classList.add("trustBadgeWrapper");let d="shine-badge-"+i;return this.badgeElement.classList.add(d),o.animation&&this.badgeElement.classList.add(o.animation),this.badgeItemElement.classList.add("st-inner"),s.show&&""!==s.text&&(this.headingBadgeElement.classList.add("st-trust-badge-heading"),this.headingBadgeElement.innerText=window.ST_GLOBALS.translate(s.text),this.badgeItemElement.appendChild(this.headingBadgeElement)),this.listImageBadgeElement.classList.add("st-images"),n.map(((n,a)=>{this.imageBadgeElement=e.createElement("img");const l=n.libraryURL,s=l.lastIndexOf("/");this.imageBadgeElement.setAttribute("src",t+"/assets/"+l.substring(s+1)),this.imageBadgeElement.setAttribute("alt",i),this.imageBadgeElement.setAttribute("data-src",l),this.listImageBadgeElement.appendChild(this.imageBadgeElement)})),this.badgeItemElement.appendChild(this.listImageBadgeElement),this.badgeElement.appendChild(this.badgeItemElement),{id:i,el:this.badgeElement,headingFontFamily:s.font.value,headingFontWeight:s.fontWeight,editor:o,template:a,selector:l,heading:s,className:d}}}const a={},l=async function(){if(!window.ST_PLAN||"Free"===window.ST_PLAN?.name||"ACTIVE"!==window.ST_PLAN?.status)return;t=window.ST_GLOBALS.getBaseCDN();const e=window.ST_TRUST_BADGES||[];if(0===e.length)return;const i=[];let l="";e.map((e=>{const{status:t=!1}=e;if(t){const t=new n(e).render();a[t.id]=t;const s={fontFamily:t.headingFontFamily,fontWeight:t.headingFontWeight};if("object"==typeof s&&s?.fontFamily){0===i.filter((e=>e.fontFamily===s.fontFamily&&parseInt(e.fontWeight)===parseInt(s.fontWeight))).length&&i.push(s)}let o="";const d=t.className,r=t.editor;let g="center";"left"===r.alignment&&(g="start"),"right"===r.alignment&&(g="end"),o=`.${d} .st-trust-badge-heading{display: block;text-align: ${t.heading.alignment};font-size: ${t.heading.size}px;color: ${t.heading.color};font-family: ${t.heading.font?.value}, sans-serif;font-weight:${t.heading.fontWeight};line-height: 120%;} .${d}  .st-inner .st-images {display: flex; justify-content: ${g}; flex-wrap: wrap;} .${d} .st-inner .st-images img {width: ${r.size}px;}`,"color"!==r.style&&(o+=`.${d} .st-inner .st-images img {filter: gray;filter: grayscale(100%);-webkit-filter: grayscale(100%);}`),r.border.active&&(o+=`.${d} .st-inner .st-images img {border-radius: ${r.border.radius}px;border: 1px solid ${r.border.color}}`);let m=r.badgeSpacing;r.badgeSpacing?.active||(m={top:5,right:5,bottom:5,left:5});let c=r.arroundSpacing;r.arroundSpacing?.active||(c={top:20,right:0,bottom:20,left:0}),o+=`.${d} .st-inner .st-images img {margin-top: ${m.top}px;margin-right: ${m.right}px;margin-bottom: ${m.bottom}px;margin-left: ${m.left}px; object-fit: contain;}`,o+=`.${d} {padding-top: ${c.top}px;padding-right: ${c.right}px;padding-bottom: ${c.bottom}px;padding-left: ${c.left}px;}`,r.width&&(o+=`.${d} {max-width: ${r.width}%;}`),l+=o}})),i.length&&i.map((e=>{window.ST_LOADED_FONTS.includes(e.fontFamily)||window.ST_GLOBALS.loadFont(e)})),window.ST_GLOBALS.addStyle(l),s()},s=async function(){let t=window.ST_GLOBALS.pageType;"product"===t&&(t="product_page");for(const n in a){const l=a[n],{el:s,selector:o,template:d,id:r}=l;if("common"===d&&""!==o){let t=o.element.split(",");const n=o?.position?o?.position:"below";for(var i=0;i<t.length;i++){let a=e.querySelector(t[i]);if(!a){let n=0;for(;n<=5;)a=e.querySelector(t[i]),a?n=6:(await new Promise((e=>setTimeout(e,300))),n++)}if(a){let e=s.cloneNode(!0);"above"===n?a.parentNode.insertBefore(e,a):a.parentNode.insertBefore(e,a.nextSibling)}}}else if(t===d){let t=e.getElementsByTagName("html")[0].getAttribute("lang"),n="";if("product_page"===d?n=`form[action*="/cart/add"]:not(.installment), form[action="/${t}/cart/add"]:not(.installment)`:"cart"===d&&(n='button[name="checkout"]'),""!==n){let a=e.querySelectorAll(n);if("cart"===d&&(a.length||(a=e.querySelectorAll(`form[action="/cart"], form[action="/${t}/cart"]`)),a.length||(a=e.querySelectorAll(`form[action="/checkout"], form[action="/${t}/checkout"]`))),a.length)for(i=0;i<a.length;i++){"cart"===d&&(a[i].parentNode.style.flexWrap="wrap");let e=s.cloneNode(!0);a[i].parentNode.insertBefore(e,a[i].nextSibling)}}}else if("block"===d){const t=e.querySelectorAll(".shine-trust-badge:not(.shine-shown)");for(i=0;i<t.length;i++){if(t[i].getAttribute("data-id")===r){let e=s.cloneNode(!0);t[i].appendChild(e),t[i].classList.add("shine-shown");const n=t[i].querySelector(".st-editor-preview");n&&(n.style.display="none")}}}}}}(window.document);